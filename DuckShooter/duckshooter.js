var gun={angle:0,draw:function(){push(),translate(10,windowHeight-20),rotate(this.angle),rect(10,-10,75,20),pop()}},duck={x:0,y:0,xvelocity:2,yvelocity:4,draw:function(){push(),translate((windowWidth+20)/2,windowHeight/2),fill(255,100,0),ellipse(this.x,this.y,50,50),pop()},inxBounds:function(){return this.x>-(windowWidth-70)/2&&this.x<(windowWidth-60)/2},inyBounds:function(){return this.y>-(windowHeight-60)/2&&this.y<(windowHeight-60)/2},update:function(){this.xvelocity=this.inxBounds()?this.xvelocity:-1*this.xvelocity,this.x+=this.xvelocity,this.yvelocity=this.inyBounds()?this.yvelocity:-1*this.yvelocity,this.y+=this.yvelocity}},bullets=[];function bullet(t){return t.active=!0,t.x=75*cos(angle),t.y=75*sin(angle)+windowHeight-25,t.g=angle,t.width=5,t.height=10,t.inBounds=function(){return t.x<windowWidth-t.width&&t.y<windowHeight-t.height},t.draw=function(){push(),rotate(this.angle),stroke(255),rect(t.x,t.y,t.width,t.height),pop()},t.update=function(){t.active=t.active&&t.inBounds(),t.x+=4*cos(t.g),t.y+=4*sin(t.g)},t}function setup(){createCanvas(windowWidth,windowHeight),background(0)}function draw(){clear(),background(0),angle=atan2(mouseY-windowHeight,mouseX),gun.angle=angle,gun.draw(),duck.update(),duck.draw(),(bullets=bullets.filter(function(t){return t.active})).forEach(function(t){t.update(),t.draw()}),bullets.forEach(function(t){dist(t.x,t.y,duck.x+(windowWidth+20)/2,duck.y+windowHeight/2)<25&&(noLoop(),textSize(32),fill(250,190,200),text("you just killed the duck, nice. how do u feel?",100,100),fill(250,0,200),text("suggested donation Â£5 to rspca.com",100,200))})}function mousePressed(){bullets.push(bullet({}))}function windowResized(){resizeCanvas(windowWidth,windowHeight)}